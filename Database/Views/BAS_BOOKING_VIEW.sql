CREATE OR REPLACE FORCE VIEW BAS_BOOKING_VIEW AS
SELECT	ID,
		SEQUENCENUMBER,
		(select DICT_NAME from CFG_DICT where DICT_TYPE=1006 and DICT_CODE=SUBJECT) SUBJECT_DICT_NAME,
		EXAMNUMBER,
		(select NAME from BAS_STUDENT where ID=STUDENT_ID) STUDENT_NAME,
		(select DICT_NAME from CFG_DICT where DICT_TYPE=2001 and DICT_CODE=(select GENDER from BAS_STUDENT where ID=STUDENT_ID)) GENDER_DICT_NAME,
		(select DICT_NAME from CFG_DICT where DICT_TYPE=2002 and DICT_CODE=(select IDTYPE from BAS_STUDENT where ID=STUDENT_ID)) STUDENT_IDTYPE,
		(select IDNUMBER from BAS_STUDENT where ID=STUDENT_ID) STUDENT_IDNUMBER,
		(select DRIVER_LICENSE_TYPE from BAS_STUDENT where ID=STUDENT_ID) STUDENT_DRIVER_LICENSE_TYPE,
		(select STATUS from BAS_STUDENT where ID=STUDENT_ID) STUDENT_STATUS,
		(select DICT_NAME from CFG_DICT where DICT_TYPE=1007 and DICT_CODE=EXAM_REASON) EXAM_REASON_DICT_NAME,
		BOOKING_DATETIME,
		BOOKING_TIMES,
		BOOKING_EXAM_DATE,
		DRIVER_LICENSE_TYPE AS BOOKING_DRIVER_LICENSE_TYPE,
		(select NAME from BAS_PLACE where ID=PLACE_ID) PLACE_NAME,
		(select SEQUENCENUMBER from BAS_PLACE where ID=PLACE_ID) PLACE_SEQUENCENUMBER,
		(select DICT_NAME from CFG_DICT where DICT_TYPE=1014 and DICT_CODE=EXAM_SESSION) EXAM_SESSION_DICT_NAME,
		case when CAR_ID is null then null else (select LICENSE_PLATE from BAS_CAR where ID=CAR_ID) end CAR_LICENSE_NUMBER,
		OPERATOR_NAME,
		BRANCH_ADMINISTRATION,
		case when SCHOOL_ID is null then null else (select NAME from BAS_DRIVING_SCHOOL where ID=SCHOOL_ID) end SCHOOL_NAME,
		EXAM_DATE,
		EXAM_TIMES,
		(select DICT_NAME from CFG_DICT where DICT_TYPE=1008 and DICT_CODE=EXAM_STATUS) EXAM_STATUS,
		(select DICT_NAME from CFG_DICT where DICT_TYPE=1031 and DICT_CODE=SIGN_STATUS) SIGN_STATUS
FROM BAS_BOOKING;